var d = !0,
	f = null,
	h = !1;

function l() {
	return function() {}
}

function m(a) {
	return function(b) {
		this[a] = b
	}
}

function p(a) {
	return function() {
		return this[a]
	}
}

function r(a) {
	return function() {
		return a
	}
}
if (cc.sys._supportWebAudio) {
	var t = cc.ck = new(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);
	cc.Da = cc.Class.extend({
		M: f,
		K: f,
		I: f,
		Wa: f,
		src: f,
		preload: f,
		autoplay: f,
		controls: f,
		$h: f,
		currentTime: 0,
		startTime: 0,
		duration: 0,
		Ma: f,
		Va: 1,
		pa: 0,
		_paused: h,
		ba: d,
		n: -1,
		ctor: function(a) {
			this.M = {};
			this.src = a;
			this.Wa = t.createGain ? t.createGain() : t.createGainNode();
			this.Bc = this.Ac.bind(this);
			this.zc = this.yc.bind(this)
		},
		Pa: function(a) {
			var b = this.I = t.createBufferSource(),
				c = this.Wa;
			a = a || 0;
			b.buffer = this.K;
			c.gain.value = this.Va;
			b.connect(c);
			c.connect(t.destination);
			b.loop = this.Ma;
			this.ba = this._paused = h;
			b.start ? b.start(0, a) : b.noteGrainOn ? (c = b.buffer.duration, this.loop ? b.noteGrainOn(0, a, c) : b.noteGrainOn(0, a, c - a)) : b.noteOn(0);
			this.pa = 0
		},
		Ib: function() {
			var a = this.I;
			this.ba || (a.stop ? a.stop(0) : a.noteOff(0), this.ba = d)
		},
		play: function() {
			if (-1 == this.n) this.n = 0;
			else if (1 == this.n) {
				var a = this.I;
				if (this.ba || !(a && 2 == a.playbackState)) this.startTime = t.currentTime, this.Pa(0)
			}
		},
		pause: function() {
			this.pa = t.currentTime;
			this._paused = d;
			this.Ib()
		},
		resume: function() {
			this._paused && this.Pa(this.K ? (this.pa - this.startTime) % this.K.duration : 0)
		},
		stop: function() {
			this.pa = 0;
			this._paused = h;
			this.Ib()
		},
		load: function() {
			var a = this;
			if (1 != a.n) {
				a.n = -1;
				a.played = h;
				a.ended = d;
				var b = new XMLHttpRequest;
				b.open("GET", a.src, d);
				b.responseType = "arraybuffer";
				b.onload = function() {
					t.decodeAudioData(b.response, a.Bc, a.zc)
				};
				b.send()
			}
		},
		addEventListener: function(a, b) {
			this.M[a] = b.bind(this)
		},
		removeEventListener: function(a) {
			delete this.M[a]
		},
		uf: function() {
			return cc.sys._supportWebAudio
		},
		Ac: function(a) {
			this.K = a;
			a = this.M.success;
			var b = this.M.canplaythrough;
			a && a();
			b && b();
			(0 == this.n || "autoplay" == this.autoplay || this.autoplay == d) && this.Pa();
			this.n = 1
		},
		yc: function() {
			var a = this.M.error;
			a && a();
			this.n = -2
		},
		cloneNode: function() {
			var a = new cc.Da(this.src);
			a.volume = this.volume;
			a.n = this.n;
			a.K = this.K;
			(0 == a.n || -1 == a.n) && a.load();
			return a
		}
	});
	var v = cc.Da.prototype;
	cc.defineGetterSetter(v, "loop", p("Ma"), function(a) {
		this.Ma = a;
		this.I && (this.I.loop = a)
	});
	cc.defineGetterSetter(v, "volume", p("Va"), function(a) {
		this.Va = a;
		this.Wa.gain.value = a
	});
	cc.defineGetterSetter(v, "paused", p("_paused"));
	cc.defineGetterSetter(v, "ended", function() {
		var a = this.I;
		return !this._paused && (this.ba || !a || 3 == a.playbackState)
	});
	cc.defineGetterSetter(v, "played", function() {
		var a = this.I;
		return a && 2 == a.playbackState
	})
}
cc.nb = cc.Class.extend({
	Ta: h,
	h: f,
	ja: f,
	l: 0,
	sb: 0,
	j: {},
	V: {},
	ma: 1,
	Na: 5,
	v: f,
	aa: [],
	ctor: function() {
		this.Ta = 0 < cc.Ea.qa.length;
		this.v && (this.v = this.v.bind(this))
	},
	dk: r(h),
	dg: p("ma"),
	va: function(a, b) {
		if (this.Ta) {
			var c = this.h;
			c && this.z(c);
			a != this.ja && (this.h = c = this.Ha(a), this.ja = a);
			c && (c.loop = b || h, this.O(c))
		}
	},
	Ha: function(a) {
		var b = cc.loader,
			c = b.getRes(a);
		c || (b.load(a), c = b.getRes(a));
		return c
	},
	O: function(a) {
		a.ended || (a.stop ? a.stop() : (a.pause(), a.currentTime = 0));
		this.l = 2;
		a.play()
	},
	T: function(a) {
		if (0 < this.l) {
			var b = this.h;
			b && this.z(b) && (a && cc.loader.release(this.ja), this.ja = this.h = f, this.l = 0)
		}
	},
	z: function(a) {
		return a && !a.ended ? (a.stop ? a.stop() : a.duration && Infinity != a.duration ? a.currentTime = a.duration : a.pause(), d) : h
	},
	Vb: function() {
		2 == this.l && (this.h.pause(), this.l = 1)
	},
	Jd: function() {
		1 == this.l && (this.u(this.h), this.l = 2)
	},
	u: function(a) {
		a && !a.ended && (a.resume ? a.resume() : a.play())
	},
	Ei: function() {
		this.h && this.O(this.h)
	},
	Nb: function() {
		return 0 == this.l ? 0 : this.h.volume
	},
	ya: function(a) {
		0 < this.l && (this.h.volume = Math.min(Math.max(a, 0), 1))
	},
	eb: function() {
		return 2 == this.l && this.h && !this.h.ended
	},
	Ia: function(a) {
		var b = this.V[a];
		b || (b = this.V[a] = []);
		return b
	},
	yb: function(a) {
		var b;
		if (!this.Ta) return f;
		for (var c = this.Ia(a), e = 0, g = c.length; e < g; e++) {
			var k = c[e];
			if (k.ended) {
				b = k;
				b.currentTime = 0;
				window.xf && b.load();
				break
			}
		}
		if (!b) {
			if (c.length >= this.Na) return cc.log("Error: " + a + " greater than " + this.Na), f;
			b = this.Ha(a);
			if (!b) return f;
			b = b.cloneNode(d);
			this.v && cc._addEventListener(b, "pause", this.v);
			b.volume = this.ma;
			c.push(b)
		}
		return b
	},
	S: function(a, b) {
		var c = this.yb(a);
		if (!c) return f;
		c.loop = b || h;
		c.play();
		var e = this.sb++;
		this.j[e] = c;
		return e
	},
	$b: function(a) {
		a = this.ma = Math.min(Math.max(a, 0), 1);
		var b = this.j,
			c;
		for (c in b) b[c].volume = a
	},
	wd: function(a) {
		(a = this.j[a]) && !a.ended && a.pause()
	},
	vd: function() {
		var a = this.j,
			b;
		for (b in a) {
			var c = a[b];
			c.ended || c.pause()
		}
	},
	Id: function(a) {
		this.u(this.j[a])
	},
	Hd: function() {
		var a = this.j,
			b;
		for (b in a) this.u(a[b])
	},
	Ba: function(a) {
		this.z(this.j[a]);
		delete this.j[a]
	},
	ga: function() {
		var a = this.j,
			b;
		for (b in a) this.z(a[b]), delete a[b]
	},
	ce: function(a) {
		var b = cc.loader,
			c = this.j,
			e = this.Ia(a);
		b.release(a);
		if (0 != e.length) {
			b = e[0].src;
			delete this.V[a];
			for (var g in c) c[g].src == b && (this.z(c[g]), delete c[g])
		}
	},
	end: function() {
		this.T();
		this.ga()
	},
	Fb: function() {
		var a = this.j,
			b, c;
		for (c in a) if ((b = a[c]) && !b.ended && !b.paused) this.aa.push(b), b.pause();
		this.eb() && (this.aa.push(this.h), this.h.pause())
	},
	Gb: function() {
		for (var a = this.aa, b = 0, c = a.length; b < c; b++) this.u(a[b]);
		a.length = 0
	}
});
!cc.sys._supportWebAudio && 0 > cc.sys._supportMultipleAudio && (cc.ob = cc.nb.extend({
	A: [],
	Z: [],
	m: f,
	Na: 2,
	la: {},
	H: h,
	N: 0,
	Ja: h,
	O: function(a) {
		this.Ua();
		this._super(a)
	},
	Jd: function() {
		1 == this.l && (this.Ua(), this.H = h, this.N = 0, this._super())
	},
	S: function(a, b) {
		var c = this.m,
			e = b ? this.yb(a) : this.vc(a);
		if (!e) return f;
		e.loop = b || h;
		var g = this.sb++;
		this.j[g] = e;
		this.eb() && (this.Vb(), this.H = d);
		c ? (c != e && this.A.push(this.L), this.A.push(g), c.pause()) : (this.m = e, this.L = g, e.play());
		return g
	},
	wd: function() {
		cc.log("pauseEffect not supported in single audio mode!")
	},
	vd: function() {
		var a = this.A,
			b = this.Z,
			c = this.m;
		if (c) {
			for (var e = 0, g = a.length; e < g; e++) b.push(a[e]);
			a.length = 0;
			b.push(this.L);
			c.pause()
		}
	},
	Id: function() {
		cc.log("resumeEffect not supported in single audio mode!")
	},
	Hd: function() {
		var a = this.A,
			b = this.Z;
		this.eb() && (this.Vb(), this.H = d);
		for (var c = 0, e = b.length; c < e; c++) a.push(b[c]);
		b.length = 0;
		if (!this.m && 0 <= a.length && (a = a.pop(), b = this.j[a])) this.L = a, this.m = b, this.u(b)
	},
	Ba: function(a) {
		var b = this.m,
			c = this.A,
			e = this.Z;
		b && this.L == a ? this.z(b) : (b = c.indexOf(a), 0 <= b ? c.splice(b, 1) : (b = e.indexOf(a), 0 <= b && e.splice(b, 1)))
	},
	ga: function() {
		this.Ua();
		!this.m && this.H && (this.u(this.h), this.l = 2, this.H = h, this.N = 0)
	},
	ce: function(a) {
		var b = cc.loader,
			c = this.j,
			e = this.la,
			g = this.Ia(a),
			k = this.m;
		b.release(a);
		if (0 != g.length || e[a]) {
			b = 0 < g.length ? g[0].src : e[a].src;
			delete this.V[a];
			delete e[a];
			for (var n in c) c[n].src == b && delete c[n];
			k && k.src == b && this.z(k)
		}
	},
	vc: function(a) {
		var b = this.la[a],
			c = this.A,
			e = this.Z,
			g = this.j;
		if (b) b.currentTime = 0;
		else {
			b = this.Ha(a);
			if (!b) return f;
			b = b.cloneNode(d);
			this.v && cc._addEventListener(b, "pause", this.v);
			b.volume = this.ma;
			this.la[a] = b
		}
		a = 0;
		for (var k = c.length; a < k;) g[c[a]] == b ? c.splice(a, 1) : a++;
		a = 0;
		for (k = e.length; a < k;) g[e[a]] == b ? e.splice(a, 1) : a++;
		b.X = d;
		return b
	},
	Ua: function() {
		var a = this.m,
			b = this.V,
			c = this.la,
			e = this.A,
			g = this.Z;
		if (a || !(0 == e.length && 0 == g.length)) {
			for (var k in c) {
				var n = c[k];
				n.duration && Infinity != n.duration && (n.currentTime = n.duration)
			}
			e.length = 0;
			g.length = 0;
			for (k in b) {
				c = b[k];
				e = 0;
				for (g = c.length; e < g; e++) n = c[e], n.loop = h, n.duration && Infinity != n.duration && (n.currentTime = n.duration)
			}
			a && this.z(a)
		}
	},
	v: function() {
		if (!this.Ja) {
			var a = this.wc();
			if (a) a.X ? (delete a.X, a.play()) : this.u(a);
			else if (this.H) {
				a = this.h;
				if (a.duration && Infinity != a.duration) {
					var b = a.currentTime + this.N,
						b = b - a.duration * (b / a.duration | 0);
					a.currentTime = b
				}
				this.N = 0;
				this.u(a);
				this.l = 2;
				this.H = h
			}
		}
	},
	wc: function() {
		var a = this.A,
			b = this.j,
			c = this.m,
			e = c ? c.currentTime - (c.startTime || 0) : 0;
		for (this.N += e; 0 != a.length;) {
			var g = a.pop();
			if (c = b[g]) {
				if (c.X || c.loop || c.duration && c.currentTime + e < c.duration) return this.L = g, this.m = c, !c.X && (c.duration && Infinity != c.duration) && (a = c.currentTime + e, a -= c.duration * (a / c.duration | 0), c.currentTime = a), c.X = h, c;
				c.duration && Infinity != c.duration && (c.currentTime = c.duration)
			}
		}
		return this.m = this.L = f
	},
	Fb: function() {
		var a = this.m;
		this.Ja = d;
		if (a = 2 == this.l ? this.h : a) this.aa.push(a), a.pause()
	},
	Gb: function() {
		var a = this.aa;
		this.Ja = h;
		0 < a.length && (this.u(a[0]), a.length = 0)
	}
}));
cc.Ea = {
	qa: f,
	Vf: function() {
		return cc.loader.audioPath
	},
	La: function(a, b, c, e, g, k, n) {
		var s = this,
			q = cc.loader,
			w = cc.path,
			u = this.qa,
			x = "";
		if (0 == u.length) return n("can not support audio!");
		if (-1 == e) x = (w.extname(a) || "").toLowerCase(), s.Gc(x) || (x = u[0], e = 0);
		else if (e < u.length) x = u[e];
		else return n("can not found the resource of audio! Last match url is : " + a);
		if (0 <= g.indexOf(x)) return s.La(a, b, c, e + 1, g, k, n);
		a = w.changeExtname(a, x);
		g.push(x);
		k = s.xc(a, k, function(q) {
			if (q) return s.La(a, b, c, e + 1, g, k, n);
			n(f, k)
		}, e == u.length - 1);
		q.cache[b] = k
	},
	Gc: function(a) {
		return !a ? h : 0 <= this.qa.indexOf(a.toLowerCase())
	},
	xc: function(a, b, c, e) {
		var g = "file://" == location.origin ? Audio : cc.Da || Audio;
		2 == arguments.length ? (c = b, b = new g) : 3 < arguments.length && !b && (b = new g);
		b.src = a;
		b.preload = "auto";
		g = navigator.userAgent;
		/Mobile/.test(g) && (/iPhone OS/.test(g) || /iPad/.test(g) || /Firefox/.test(g)) || /MSIE/.test(g) ? (b.load(), c(f, b)) : (cc._addEventListener(b, "canplaythrough", function() {
			c(f, b);
			this.removeEventListener("canplaythrough", arguments.callee, h);
			this.removeEventListener("error", arguments.callee, h)
		}, h), cc._addEventListener(b, "error", function() {
			c("load " + a + " failed");
			e && (this.removeEventListener("canplaythrough", arguments.callee, h), this.removeEventListener("error", arguments.callee, h))
		}, h), b.load());
		return b
	},
	load: function(a, b, c, e) {
		this.La(a, b, c, -1, [], f, e)
	}
};
cc.Ea.qa = function() {
	var a = cc.newElement("audio"),
		b = [];
	if (a.canPlayType) {
		var c = function(b) {
				b = a.canPlayType(b);
				return "no" != b && "" != b
			};
		c('audio/ogg; codecs="vorbis"') && b.push(".ogg");
		c("audio/mpeg") && b.push(".mp3");
		c('audio/wav; codecs="1"') && b.push(".wav");
		c("audio/mp4") && b.push(".mp4");
		(c("audio/x-m4a") || c("audio/aac")) && b.push(".m4a")
	}
	return b
}();
cc.loader.register(["mp3", "ogg", "wav", "mp4", "m4a"], cc.Ea);
cc.k = cc.ob ? new cc.ob : new cc.nb;
cc.eventManager.addCustomListener(cc.game.EVENT_HIDE, function() {
	cc.k.Fb()
});
cc.eventManager.addCustomListener(cc.game.EVENT_SHOW, function() {
	cc.k.Gb()
});
var y = y || {};
y.F = {
	ai: l(),
	Zh: function() {
		return this
	},
	oi: l(),
	Cf: function() {
		return this
	},
	oj: l(),
	bg: function() {
		return this
	},
	ff: function() {
		return this
	},
	Xc: function() {
		return this
	},
	wi: l(),
	Bf: l(),
	Gg: function() {
		return this
	},
	ad: function() {
		return this
	},
	Yg: function() {
		return this
	},
	Yj: function() {
		return this
	},
	Uf: function() {
		return this
	},
	ng: function() {
		return this
	},
	sf: function() {
		return this
	},
	Yh: function() {
		return this
	},
	ag: function() {
		return this
	},
	Th: l(),
	yf: function() {
		return this
	},
	bh: function() {
		return this
	},
	Fj: l(),
	cg: function() {
		return this
	}
};
y.Ke = {
	i: l(),
	init: function() {
		return this
	},
	tf: l(),
	Ii: l(),
	d: function() {
		return this
	},
	qe: l()
};
y.gf = {
	Sc: l(),
	Wc: function() {
		return this
	},
	Ic: l(),
	Pf: l(),
	Sh: l(),
	Vc: function() {
		return this
	},
	Wi: l(),
	init: function() {
		return this
	},
	yj: l(),
	Yd: l(),
	gg: function() {
		return this
	},
	Uh: l(),
	i: l(),
	Uc: function() {
		return this
	},
	Hj: l(),
	Qf: l(),
	Vh: l(),
	ld: function() {
		return this
	},
	d: function() {
		return this
	},
	Ee: l()
};
y.cf = {
	jj: l(),
	Uj: l(),
	Oj: l(),
	J: l(),
	Tj: l(),
	Yd: l(),
	Qj: l(),
	Qi: l(),
	ld: function() {
		return this
	},
	Vj: l(),
	Wc: function() {
		return this
	},
	Td: l(),
	init: function() {
		return this
	},
	i: l(),
	Nj: l(),
	Rj: l(),
	Vc: function() {
		return this
	},
	Ri: l(),
	Pj: l(),
	Wj: l(),
	Uc: function() {
		return this
	},
	Sj: l(),
	d: function() {
		return this
	},
	De: l()
};
y.o = {
	Ed: l(),
	Dj: l(),
	Bj: l(),
	Cj: l(),
	init: function() {
		return this
	},
	ni: l(),
	i: l(),
	d: function() {
		return this
	},
	ze: l()
};
y.Ye = {
	i: l(),
	init: function() {
		return this
	},
	Ed: l(),
	d: function() {
		return this
	},
	Ae: l()
};
y.je = {
	Lj: l(),
	create: function() {
		return this
	},
	me: l()
};
y.Ze = {
	Ug: l(),
	cb: function() {
		return this
	},
	Tg: l(),
	Wg: function() {
		return this
	},
	rd: l(),
	ti: l(),
	Be: l()
};
y.$e = {
	cb: function() {
		return this
	},
	d: function() {
		return this
	}
};
y.af = {
	Oi: l(),
	cb: function() {
		return this
	},
	$f: function() {
		return this
	},
	d: function() {
		return this
	}
};
y.bf = {
	cb: function() {
		return this
	},
	d: function() {
		return this
	}
};
y.ic = {
	Lf: function() {
		return this
	},
	init: function() {
		return this
	},
	Xi: l(),
	qd: function() {
		return this
	},
	i: l(),
	d: function() {
		return this
	},
	ne: l()
};
y.Te = {
	Sc: l(),
	fj: l(),
	sg: function() {
		return this
	},
	Yi: l(),
	Di: l(),
	wg: function() {
		return this
	},
	ui: l(),
	Jg: function() {
		return this
	},
	Ui: l(),
	Ki: l(),
	mf: l(),
	init: function() {
		return this
	},
	Lg: function() {
		return this
	},
	ij: l(),
	mj: l(),
	rg: function() {
		return this
	},
	Qg: function() {
		return this
	},
	pj: l(),
	Pg: function() {
		return this
	},
	Gj: l(),
	Aj: l(),
	yg: function() {
		return this
	},
	$i: l(),
	Xj: l(),
	Nf: l(),
	eg: function() {
		return this
	},
	pf: l(),
	ei: l(),
	zj: l(),
	hj: l(),
	of: l(),
	Ti: l(),
	ig: function() {
		return this
	},
	Xg: function() {
		return this
	},
	Kg: function() {
		return this
	},
	tg: function() {
		return this
	},
	kg: function() {
		return this
	},
	rd: l(),
	we: l()
};
y.Se = {
	gj: l(),
	d: function() {
		return this
	}
};
y.pc = {
	ga: l(),
	$d: l(),
	Qd: l(),
	ya: l(),
	kb: l(),
	Ba: l(),
	Yc: function() {
		return this
	},
	zd: function() {
		return this
	},
	Nb: function() {
		return this
	},
	T: l(),
	dump: l(),
	$c: function() {
		return this
	},
	jb: l(),
	va: l(),
	Rd: l(),
	xd: l(),
	i: l(),
	Zc: function() {
		return this
	},
	Jc: l(),
	S: function() {
		return this
	},
	Cc: l(),
	Zd: l(),
	init: function() {
		return this
	},
	bb: function() {
		return this
	},
	d: function() {
		return this
	},
	Ce: l()
};
y.ie = {
	i: l(),
	init: function() {
		return this
	},
	Ej: l(),
	fa: l(),
	d: function() {
		return this
	},
	le: l()
};
y.Le = {
	fa: l(),
	Aa: l(),
	ra: l()
};
y.Me = {
	ra: l(),
	init: function() {
		return this
	},
	Aa: l(),
	i: l(),
	fa: l(),
	d: function() {
		return this
	},
	re: l()
};
y.Ne = {
	ra: l(),
	init: function() {
		return this
	},
	Aa: l(),
	i: l(),
	fa: l(),
	d: function() {
		return this
	},
	se: l()
};
y.Pe = {
	ra: l(),
	init: function() {
		return this
	},
	Aa: l(),
	i: l(),
	fa: l(),
	d: function() {
		return this
	},
	ue: l()
};
y.Oe = {
	ra: l(),
	init: function() {
		return this
	},
	Aa: l(),
	i: l(),
	fa: l(),
	d: function() {
		return this
	},
	te: l()
};
y.Fe = {
	Ud: l(),
	$j: l(),
	lj: l(),
	init: function() {
		return this
	},
	i: l(),
	d: function() {
		return this
	},
	oe: l()
};
y.s = {
	ug: function() {
		return this
	},
	bj: l(),
	fg: function() {
		return this
	},
	Vi: l(),
	xi: l(),
	qg: function() {
		return this
	},
	rj: l(),
	og: function() {
		return this
	},
	kj: l(),
	Td: l(),
	init: function() {
		return this
	},
	xg: function() {
		return this
	},
	i: l(),
	vg: function() {
		return this
	},
	cj: l(),
	ji: l(),
	Bg: function() {
		return this
	},
	dj: l(),
	Ci: l(),
	lg: function() {
		return this
	},
	nj: l(),
	pg: function() {
		return this
	},
	aj: l(),
	ej: l(),
	qf: l(),
	d: function() {
		return this
	},
	ve: l()
};
y.Ca = {
	fc: l(),
	vj: l(),
	Fg: function() {
		return this
	},
	Ic: l(),
	Zi: l(),
	Dg: function() {
		return this
	},
	qj: l(),
	uj: l(),
	zg: function() {
		return this
	},
	init: function() {
		return this
	},
	Ij: l(),
	jg: function() {
		return this
	},
	i: l(),
	Ig: function() {
		return this
	},
	Yf: function() {
		return this
	},
	gc: l(),
	d: function() {
		return this
	},
	ye: l()
};
y.Ue = {
	Ud: l(),
	Ji: l(),
	init: function() {
		return this
	},
	i: l(),
	d: function() {
		return this
	},
	xe: l()
};
y.Ie = {
	Rg: l(),
	Li: l(),
	show: l(),
	isEnabled: function() {
		return this
	},
	Mf: l(),
	Zg: function() {
		return this
	},
	init: function() {
		return this
	},
	i: l(),
	d: function() {
		return this
	},
	pe: l()
};
y.F.Xc = function() {
	var a = cc.sys.localStorage.getItem("device_id");
	if (a) return a;
	a = y.cd();
	cc.sys.localStorage.setItem("device_id", a);
	return a
};
y.F.ad = function() {
	return Math.ceil((new Date).getTime() / 1E3)
};
y.F.Oc = function() {
	return (new Date).getTime()
};
y.F.Cg = function(a) {
	y.f.get("http://week.pictoword.hortorgame.com/week/serverTime", function(b, c) {
		if (b) a(b, f);
		else {
			var e = parseInt(c);
			isNaN(e) || 0 > e ? (cc.log("[BSHTTP] server time request error:" + JSON.stringify(c)), a("", f)) : a(f, e)
		}
	})
};
y.platform = "html5";
y.pi = "appstore";
y.rc = cc.Class.extend({
	P: f,
	init: function() {
		this.P = {}
	},
	gc: function(a) {
		this.P[a] || (this.P[a] = 0, cc.spriteFrameCache.addSpriteFrames(a));
		this.P[a]++
	},
	fc: function(a) {
		this.P[a]--;
		0 == this.P[a] && cc.spriteFrameCache.removeSpriteFramesFromFile(a)
	}
});
y.Ca = {
	oa: f,
	d: function() {
		this.oa || (this.oa = new y.rc, this.oa.init());
		return this.oa
	}
};
y = y || {};
y.Gi = "js_bscommon/res/shareLayer.ccbi";
y.init = function() {
	cc.Sequence.Nc = function(a) {
		if (0 === a.length) return cc.Sequence.create();
		if (1 === a.length) return cc.Sequence.create(a[0]);
		if (2 === a.length) return cc.Sequence.create(a[0], a[1]);
		var b = a.pop();
		return cc.Sequence.create(cc.Sequence.Nc(a), b)
	};
	y.Qb() && (y.Db || (y.Db = cc.view.Kc), cc.view.Kc = function(a, b, c) {
		a = y.Db.call(cc.view, a, b, c);
		window && window.Hc && (b = window.Hc, a.x /= b, a.y /= b);
		return a
	});
	cc.nc && (cc.nc.extend = cc.Class.extend);
	cc.pb && (cc.pb.extend = cc.Class.extend);
	cc.Scale9Sprite && (cc.Scale9Sprite.extend = cc.Class.extend);
	cc.mc && (cc.mc.extend = cc.Class.extend)
};
y.F = y.F || {};
y.F.Oc = function() {
	return (new Date).getTime()
};
y.gi = l();
y.fi = l();
y.ii = l();
y.hi = l();
y.s = y.s || {};
y.s.qh = 1;
y.s.rh = 2;
y.s.th = 3;
y.s.sh = 4;
y.s.ph = 5;
y.s.vh = 6;
y.s.uh = 7;
"undefined" === typeof cc.kc && (cc.kc = {
	r: 166,
	g: 166,
	b: 166
});
String.prototype.sa = function(a) {
	return this.replace(String.prototype.sa.Dd, function(b) {
		b = parseInt(b.substring(1, b.length - 1));
		return 0 <= b ? a[b] : -1 === b ? "{" : -2 === b ? "}" : ""
	})
};
String.prototype.sa.Dd = /{-?[0-9]+}/g;
y.Jj = function(a, b) {
	return a.sa(b)
};
y.Of = function(a) {
	return 0 > a ? -a : a
};
y.Kj = function(a) {
	var b = Math.floor(a / 3600),
		c = Math.floor((a - 3600 * b) / 60);
	return "{0}:{1}:{2}".sa([b, c, a - 3600 * b - 60 * c])
};
y.bi = function(a) {
	return cc.p(a.getContentSize().width / 2, a.getContentSize().height / 2)
};
y.ci = function() {
	var a = cc.director.Og();
	return cc.p(a.width / 2, a.height / 2)
};
y.rf = function(a) {
	return cc.color(a.r, a.g, a.b, 255)
};
y.eh = function(a) {
	return eval("(" + cc.Ge.B().Eg(a) + ")")
};
y.gb = function(a) {
	try {
		return JSON.parse(a)
	} catch (b) {
		return cc.log("[JSON]:" + b.message), cc.log("[JSON]:" + b.description), f
	}
};
y.Mj = function(a) {
	try {
		return JSON.stringify(a)
	} catch (b) {
		return cc.log(b.message), cc.log(b.description), f
	}
};
y.Xe = function(a) {
	a && a.removeFromParent()
};
y.Ve = function(a, b) {
	return a + Math.floor(Math.random() * (b - a))
};
y.surround = function(a, b, c, e) {
	return _.filter([
		[a - 1, b - 1],
		[a, b - 1],
		[a + 1, b - 1],
		[a - 1, b],
		[a, b],
		[a + 1, b],
		[a - 1, b + 1],
		[a, b + 1],
		[a + 1, b + 1]
	], function(a) {
		return 0 <= a[0] && 0 <= a[1] && a[0] < c && a[1] < e
	})
};
y.Qb = function() {
	return !cc.sys.isNative
};
y.he = function() {
	return y.U.B().Ec()
};
y.w = function() {
	return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
};
y.cd = function() {
	return y.w() + y.w() + "-" + y.w() + "-" + y.w() + "-" + y.w() + "-" + y.w() + y.w() + y.w()
};
y.wa = function(a, b) {
	a.wa ? a.wa(b) : a.setFlippedX(b)
};
y.xa = function(a, b) {
	a.xa ? a.xa(b) : a.setFlippedY(b)
};
y.da = function(a) {
	return cc.rectGetMaxY(a.getBoundingBox())
};
y.Hg = function(a) {
	return cc.rectGetMaxY(a.getBoundingBoxToWorld())
};
y.R = function(a) {
	return cc.rectGetMinY(a.getBoundingBox())
};
y.Xf = function(a) {
	return cc.rectGetMinY(a.getBoundingBoxToWorld())
};
y.hg = function(a) {
	return cc.rectGetMinX(a.getBoundingBox())
};
y.Ag = function(a) {
	return cc.rectGetMaxX(a.getBoundingBox())
};
y.Ng = function(a) {
	return a.width * a.scaleX
};
y.Mg = function(a) {
	return a.height * a.scaleY
};
y.ta = function(a) {
	return cc.size(a.width * a.scaleX, a.height * a.scaleY)
};
y.Lb = function(a) {
	y.C(a, void 0, 0.5, 0.5)
};
y.C = function(a, b, c, e) {
	b = (b || a.getParent()).getContentSize();
	var g = y.ta(a),
		k = a.isIgnoreAnchorPointForPosition() ? cc.p(0, 0) : a.getAnchorPoint();
	a.setPosition(cc.p(b.width * c + (k.x - 0.5) * g.width, b.height * e + (k.y - 0.5) * g.height))
};
y.vf = function(a, b) {
	b = b || a.getParent();
	a.setPositionX(b.getContentSize().width / 2 + (a.getAnchorPoint().x - 0.5) * a.getContentSize().width)
};
y.wf = function(a, b) {
	b = b || a.getParent();
	a.setPositionY(b.getContentSize().height / 2 + (a.getAnchorPoint().y - 0.5) * a.getContentSize().height)
};
y.Ld = function(a, b) {
	a.setScale(b / a.getContentSize().width)
};
y.Kd = function(a, b) {
	a.setScale(b / a.getContentSize().height)
};
y.Hi = function(a, b, c) {
	var e = c ? b : b.width;
	c = c ? c : b.height;
	y.Md(a, e);
	y.Nd(a, c)
};
y.Md = function(a, b) {
	a.setScaleX(b / a.getContentSize().width)
};
y.Nd = function(a, b) {
	a.setScaleY(b / a.getContentSize().height)
};
y.df = function(a, b, c, e) {
	var g = {};
	g.di = a || 0;
	g.Wh = b || 0;
	g.ek = c || 0;
	g.fk = e || 0;
	return g
};
y.nf = function(a) {
	return cc.spriteFrameCache.getSpriteFrame(a) ? new cc.Sprite("#" + a) : cc.Sprite.create(a)
};
y.Vg = function() {
	return !_.isUndefined(navigator) && !_.isUndefined(navigator.userAgent) ? -1 != navigator.userAgent.toLowerCase().indexOf("micromessenger") : h
};
y.Sg = function(a, b) {
	return "/proxy?url=" + encodeURIComponent(a.replace(/\/[0-9]+$/, "/" + b))
};
y.Od = function(a, b) {
	for (var c = 0; c < a.getChildrenCount(); ++c) this.Od(a.getChildren()[c], b);
	a instanceof cc.Je && a.setEnabled(b)
};
y.bk = function(a, b) {
	if ("stringstring" != typeof a + typeof b) return h;
	for (var c = a.split("."), e = b.split("."), g = 0, k = Math.max(c.length, e.length); g < k; g++) {
		if (c[g] && !e[g] && 0 < parseInt(c[g]) || parseInt(c[g]) > parseInt(e[g])) return 1;
		if (e[g] && !c[g] && 0 < parseInt(e[g]) || parseInt(c[g]) < parseInt(e[g])) return -1
	}
	return 0
};
y.Ef = function(a, b, c, e, g, k) {
	var n = new cc.Sprite("#" + a + b + ".png");
	a = y.Lc(a, b + 1, c, e); - 1 == g ? n.runAction(cc.RepeatForever.create(a)) : (0 < g && (a = cc.Repeat.create(a, g)), k && (a = cc.Sequence.create(a, cc.RemoveSelf.create())), n.runAction(a));
	return n
};
y.Lc = function(a, b, c, e) {
	var g = a + "_" + b + "_" + c,
		k = cc.animationCache.getAnimation(g);
	if (!k) {
		for (k = []; - 1 == c || b <= c; ++b) {
			var n = y.mb(a + b + ".png");
			if (!n) break;
			k.push(n)
		}
		k = new cc.Animation(k, e);
		cc.animationCache.addAnimation(k, g)
	}
	return cc.Animate.create(k)
};
y.Mc = function(a) {
	var b = 1 / 12,
		c = a[0] + "_" + a.length + "_" + b,
		e = cc.animationCache.getAnimation(c);
	if (!e) {
		for (var e = [], g = 0; g < a.length; ++g) {
			var k = y.mb(a[g]);
			if (!k) break;
			e.push(k)
		}
		e = new cc.Animation(e, b);
		cc.animationCache.addAnimation(e, c)
	}
	return cc.Animate.create(e)
};
y.mb = function(a) {
	_.endsWith(a, ".png") || (a += ".png");
	return cc.spriteFrameCache.getSpriteFrame(a)
};
y.tj = function(a, b, c) {
	b = y.mb(b);
	a.setSpriteFrame(b);
	c && a.setContentSize(b.mg())
};
y.fb = function() {
	var a = _.sprintf.apply(_, arguments);
	cc.sys.isNative ? cc.log(a) : cc.He ? cc.kf(a) : console.log(a)
};
y.ah = function(a, b, c) {
	a = b.convertTouchToNodeSpace(a);
	var e = b.getContentSize().width * b.getScaleX();
	b = b.getContentSize().height * b.getScaleY();
	c = c || cc.rect(0, 0, e, b);
	return cc.rectContainsPoint(c, a)
};
y.Df = function(a) {
	var b = cc.jc.create(),
		c = cc.color(1, 1, 1, 1);
	a = [cc.p(a.x, a.y), cc.p(a.x + a.width, a.y), cc.p(a.x + a.width, a.y + a.height), cc.p(a.x, a.y + a.height)];
	b.Rc(a, c, 1, c);
	return cc.pb.create(b)
};
y.clone = function(a) {
	var b = a instanceof Array ? [] : {},
		c;
	for (c in a) a.hasOwnProperty(c) && !_.isFunction(a[c]) && (b[c] = _.isObject(a[c]) ? y.clone(a[c]) : a[c]);
	return b
};
y.Af = function(a, b, c) {
	var e = a.getAnchorPoint(),
		g = a.getContentSize();
	c = c || cc.p(g.width * e.x, g.height * e.y);
	a = a.convertToWorldSpace(c);
	return b.convertToNodeSpace(a)
};
y.dh = function(a) {
	if (this.Qb()) {
		var b = cc.loader.getRes("conf/" + a + ".json");
		if (b) return b;
		a = cc.loader.jf("res/conf/" + a + ".json")
	} else a = y.ic.d().qd("conf/" + a + ".bjs");
	return y.gb(a)
};
y.md = function(a) {
	for (; a && a.isVisible();) a = a.getParent();
	return !a
};
y.Qh = function(a, b, c, e) {
	var g = cc.Layer.create(),
		k = 0;
	c == f && (c = cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
	e || (e = 0, _.each(a, function(a) {
		a = y.ta(a).height;
		e < a && (e = a)
	}));
	var n = [1, 0.5, 0];
	_.each(a, function(a) {
		if (a) {
			var q = y.ta(a),
				w = a.getAnchorPoint();
			a.isIgnoreAnchorPointForPosition() && (w = cc.p(0, 0));
			var u = cc.p(k, n[c] * (e - q.height));
			a.setPosition(cc.pAdd(u, cc.pCompMult(w, cc.pFromSize(q))));
			k += q.width + b;
			g.addChild(a)
		}
	});
	g.setContentSize(k - b, e);
	g.setAnchorPoint(0, 0);
	return g
};
y.Rh = function(a, b, c, e) {
	var g = cc.Layer.create(),
		k = 0;
	if (_.isUndefined(c) || _.isNull(c)) c = cc.TEXT_ALIGNMENT_CENTER;
	e || (e = 0, _.each(a, function(a) {
		a && (a = a.getContentSize().width, e < a && (e = a))
	}));
	var n = [0, 0.5, 1];
	a.reverse();
	_.each(a, function(a) {
		if (a) {
			var q = y.ta(a),
				w = a.getAnchorPoint();
			a.isIgnoreAnchorPointForPosition() && (w = cc.p(0, 0));
			var u = cc.p(n[c] * (e - q.width), k);
			a.setPosition(cc.pAdd(u, cc.pCompMult(w, cc.pFromSize(q))));
			k += q.height + b;
			g.addChild(a)
		}
	});
	g.setContentSize(e, k - b);
	g.setAnchorPoint(0, 0);
	return g
};
y.Tf = function(a) {
	var b = Math.floor(a / 3600);
	a = Math.floor(a % 3600);
	var c = Math.floor(a / 60);
	a %= 60;
	var e = "",
		e = 10 <= b ? b : "0" + b,
		e = 10 <= c ? e + ":" + c : e + ":0" + c;
	return 10 <= a ? e + ":" + a : e + ":0" + a
};
y.Fi = function(a) {
	var b = Math.floor(a / 86400),
		c = Math.floor(a / 3600),
		e = Math.floor(a / 60);
	return 0 != b ? b + "天" : 0 != c ? c + "小时" : 0 != e ? e + "分钟" : a + "秒"
};
y.Yb = function(a, b) {
	var c = {
		event: cc.EventListener.TOUCH_ONE_BY_ONE,
		swallowTouches: b == f ? d : b,
		onTouchBegan: a.onTouchBegan.bind(a)
	};
	a.onTouchMoved && (c.onTouchMoved = a.onTouchMoved.bind(a));
	a.onTouchEnded && (c.onTouchEnded = a.onTouchEnded.bind(a));
	a.onTouchCanceled && (c.onTouchCanceled = a.onTouchCanceled.bind(a));
	c = cc.EventListener.create(c);
	cc.eventManager.addListener(c, a);
	return c
};
y.Jh = 0;
y.Kh = 1;
y.Lh = 2;
y.Ih = 3;
y.gh = 4;
y.pc = {
	Bb: h,
	Ab: h,
	zb: h,
	Oa: 1,
	Ga: 1,
	Hb: [],
	Yc: p("Ga"),
	Qd: function(a) {
		this.Ga = a;
		cc.k.$b(a)
	},
	Nb: p("Oa"),
	ya: function(a) {
		this.Oa = a;
		cc.k.ya(a)
	},
	$c: p("Bb"),
	Rd: function(a) {
		this.Bb = a;
		this.jb(a);
		this.kb(a)
	},
	Zc: p("Ab"),
	kb: function(a) {
		this.Ab = a;
		cc.k.ya(a ? 0 : this.Oa)
	},
	$d: function() {
		this.kb(!this.bb())
	},
	bb: p("zb"),
	jb: function(a) {
		this.zb = a;
		cc.k.$b(a ? 0 : this.Ga)
	},
	Zd: function() {
		this.jb(!this.bb())
	},
	S: function(a, b) {
		return cc.k.S(a, b)
	},
	Ba: function(a) {
		cc.k.Ba(a)
	},
	ga: function() {
		cc.k.ga()
	},
	va: function(a) {
		cc.k.va(a)
	},
	T: function() {
		cc.k.T()
	},
	zd: function(a, b) {
		var c = this.Hb;
		return 0 >= c.length || b <= _.last(c).ri ? (c.push({
			file: a,
			priority: b
		}), this.O(a), d) : h
	},
	xd: function() {
		var a = this.Hb;
		0 >= a.length || (cc.k.T(), a.pop(), 0 < a.length && this.O(_.last(a).file))
	},
	dump: function() {
		cc.log("bs.Sound.dump not implemented.")
	},
	i: l(),
	Jc: l(),
	Cc: l(),
	init: l(),
	O: function(a) {
		cc.k.T();
		cc.k.va(a, d)
	},
	d: function() {
		return this
	}
};
y.Ah = -3;
y.wh = -2;
y.Bh = -1;
y.Ch = 0;
y.xh = 1;
y.zh = 2;
y.Dh = 3;
y.yh = 4;
y.Rb = "message-resource-status-changed";
y.pd = "message-resource-update-progress-changed";
y.ki = function(a, b) {
	y.postMessage(y.Rb, {
		Sb: a,
		status: b
	});
	y.fb("[BSResource] onResourceCheckStatusChanged: %s, %d", a, b)
};
y.mi = function(a, b) {
	y.postMessage(y.Rb, {
		Sb: a,
		status: b
	});
	y.fb("[BSResource] onResourceUpdateStatusChanged: %s, %d", a, b)
};
y.li = function(a, b, c) {
	y.postMessage(y.pd, {
		Sb: a,
		Rf: b,
		total: c
	});
	y.fb("[BSResource] onResourceUpdateProgressChanged: %s, %d, %d", a, b, c)
};
y.f = y.f || {};
y.f.rb = 1E4;
y.f.si = function(a, b) {
	y.f.get("/proxy?url=" + encodeURIComponent(a), b)
};
y.f.get = function(a, b) {
	var c = new XMLHttpRequest;
	c.open("GET", a, d);
	c.onreadystatechange = function() {
		4 == c.readyState && _.isFunction(b) && (200 == c.status ? b(f, c.responseText) : (cc.log("[BSHttp] response status error :" + c.status), 0 >= c.status ? b(c.status, f) : b(c.status, c.responseText)))
	};
	c.timeout = y.f.rb;
	c.ontimeout = b;
	c.send()
};
y.f.yd = function(a, b, c) {
	var e = new XMLHttpRequest;
	e.open("POST", a, d);
	e.setRequestHeader("Content-Type", "application/json");
	e.onreadystatechange = function() {
		4 == e.readyState && _.isFunction(c) && (200 == e.status ? c(f, e.responseText) : (cc.log("[BSHttp] response status error :" + e.status), 0 >= e.status ? c(e.status, f) : c(e.status, e.responseText)))
	};
	e.timeout = y.f.rb;
	e.send(b)
};
y.f.Sa = f;
y.f.sj = function(a) {
	y.f.Sa = a
};
y.f.Dc = function(a, b) {
	if (_.isFunction(y.f.Sa)) {
		var c = y.f.Sa(a, b);
		_.isArray(b) ? b.push(c) : b.lf = c
	}
};
y.f.fh = function(a, b, c, e) {
	y.f.Dc(b, c);
	y.f.yd(a, JSON.stringify({
		jsonrpc: "2.0",
		method: b,
		params: c,
		id: 0
	}), function(a, c) {
		if (a) e(a, f);
		else {
			var n = y.gb(c);
			!n || n.error ? (cc.log("[BSHTTP] rpc:" + b + ", return error:" + JSON.stringify(n)), e(n, f)) : e(f, y.gb(c).result)
		}
	})
};
y.U = cc.Class.extend({
	ka: 1E6,
	Ec: function() {
		this.ka--;
		this.ka == this.nd && (cc.log("[TouchPriorityManager] touch priority overflow"), this.ka = this.od);
		return this.ka
	}
});
y.Ya = f;
y.U.B = function() {
	y.Ya == f && (y.Ya = new y.U);
	return y.Ya
};
y.U.od = 1E6;
y.U.nd = 1024;
y.t = cc.Layer.extend({
	We: d,
	Jb: f,
	tb: f,
	hf: h,
	Ka: h,
	ia: f,
	e: f,
	ub: h,
	vb: d,
	W: d,
	Eb: f,
	uc: f,
	Y: f,
	Ra: f,
	Fa: f,
	na: f,
	ctor: function() {
		this._super()
	},
	Cb: function(a) {
		a = this.convertToNodeSpace(a.getLocation());
		var b = this.rect();
		b.x = 0;
		b.y = 0;
		return cc.rectEqualToRect(this.ia, cc.rect(0, 0, 0, 0)) ? cc.rectContainsPoint(b, a) : cc.rectContainsPoint(this.ia, a)
	},
	init: function(a, b) {
		this._super();
		this.Jb = b;
		this.tb = a;
		this.ia = cc.rect(0, 0, 0, 0);
		this.sc = y.Yb(this);
		this.ignoreAnchorPointForPosition(h)
	},
	fd: function(a, b, c) {
		this.init(b, c);
		this.setContentSize(a)
	},
	hd: function(a, b, c) {
		this.init(b, c);
		a = this.e = new cc.Sprite(a);
		a.setAnchorPoint(0, 0);
		this.addChild(a);
		this.setContentSize(a.getContentSize())
	},
	initWithSpriteFrameName: function(a, b, c) {
		this.init(b, c);
		a = this.e = new cc.Sprite("#" + a);
		a.setAnchorPoint(0, 0);
		this.addChild(a);
		this.setContentSize(a.getContentSize())
	},
	kd: function(a, b, c, e) {
		this.init(c, e);
		c = this.e = new cc.Sprite("#" + a);
		this.ac(a);
		this.bc(b);
		c.setAnchorPoint(0, 0);
		this.addChild(c);
		this.setContentSize(c.getContentSize())
	},
	jd: function(a, b, c, e, g) {
		this.init(e, g);
		e = this.e = new cc.Sprite("#" + a);
		this.ac(a);
		this.bc(b);
		this.Pd(c);
		e.setAnchorPoint(0, 0);
		this.addChild(e);
		this.setContentSize(e.getContentSize())
	},
	ed: function(a, b, c, e, g) {
		this.init(e, g);
		a = this.e = cc.Scale9Sprite.Mb(a, b);
		a.setAnchorPoint(0, 0);
		this.addChild(a);
		this.setContentSize(c)
	},
	gd: function(a, b, c) {
		this.init(b, c);
		this.e = a;
		a.setAnchorPoint(0, 0);
		this.addChild(a);
		this.setContentSize(a.getContentSize())
	},
	Sd: function(a) {
		this.sc.setSwallowTouches(a)
	},
	xj: m("ia"),
	rect: function() {
		var a = this.getPosition(),
			b = this.getContentSize(),
			c = this.getAnchorPoint();
		return cc.rect(a.x - b.width * c.x, a.y - b.height * c.y, b.width, b.height)
	},
	Si: function(a, b, c) {
		this.uc = {
			node: a,
			anchor: _.clone(b),
			qi: _.clone(c)
		};
		var e = this.getContentSize();
		b && (a.setAnchorPoint(b), a.setPosition(c.x + e.width * b.x, c.y + e.height * b.y));
		this.addChild(a, 1)
	},
	setContentSize: function(a) {
		cc.sizeEqualToSize(a, this.getContentSize()) || (this._super(a), this.e && this.e.setContentSize(a))
	},
	wa: function(a) {
		y.wa(this.e, a)
	},
	xa: function(a) {
		y.xa(this.e, a)
	},
	setSpriteFrame: function(a) {
		if (cc.Scale9Sprite && this.e instanceof cc.Scale9Sprite) {
			var b = this.e.Zf(),
				c = _.clone(this.e.getContentSize()),
				e = _.clone(this.e.getAnchorPoint());
			this.e.initWithSpriteFrame(a, b);
			this.e.setAnchorPoint(e);
			this.e.setContentSize(c)
		} else this.ca(a)
	},
	ac: function(a) {
		var b = !! this.Y;
		this.Y = a;
		b && (a = cc.spriteFrameCache.getSpriteFrame(a), this.ca(a))
	},
	bc: m("Ra"),
	Pd: m("Fa"),
	Mi: m("ub"),
	Ni: m("vb"),
	onTouchBegan: function(a) {
		if (!y.md(this)) return h;
		this.Eb = _.clone(a.getLocation());
		return this.Cb(a) && this.W ? (this.Ra && (a = cc.spriteFrameCache.getSpriteFrame(this.Ra), this.ca(a)), d) : h
	},
	onTouchMoved: function(a) {
		15 < cc.pDistance(a.getLocation(), this.Eb) && (this.Ka = d)
	},
	onTouchEnded: function(a) {
		if (this.Y && this.W) {
			var b = cc.spriteFrameCache.getSpriteFrame(this.Y);
			this.ca(b)
		}
		if (this.W && (!this.vb || this.Cb(a))) if (b = this.Ka, this.Ka = h, !b || !this.ub) {
			var b = this.Jb,
				c = this.tb;
			if (c) if (b && "string" == typeof c) b[c](this);
			else b && "function" == typeof c ? c.call(b, this, a) : c(this)
		}
	},
	isCascadeColorEnabled: r(h),
	isCascadeOpacityEnabled: r(h),
	getColor: function() {
		return this.e.getColor()
	},
	setColor: function(a) {
		for (var b = this.getChildren(), c = 0; c < b.length; c++) {
			var e = b[c];
			e && e.setColor && e.setColor(a)
		}
	},
	getOpacity: function() {
		return this.e.getOpacity()
	},
	setOpacity: function(a) {
		for (var b = this.getChildren(), c = 0; c < b.length; c++) {
			var e = b[c];
			e && e.setOpacity && e.setOpacity(a)
		}
	},
	setEnabled: function(a) {
		a != this.W && (this.W = a, this.Fa && (a = cc.spriteFrameCache.getSpriteFrame(a ? this.Y : this.Fa), this.ca(a)))
	},
	wj: function() {
		cc.log("do not use bs.TouchableSprite.setTouchEnabled, use setEnabled instead")
	},
	ca: function(a) {
		this.e.setSpriteFrame(a)
	},
	fadeOut: function(a, b) {
		this.tc = 255 / a;
		this.na = b;
		this.scheduleUpdate()
	},
	update: function(a) {
		a = this.getOpacity() - this.tc * a;
		0 >= a && (a = 0, this.unscheduleUpdate(), this.na && (this.na(), this.na = f));
		this.setOpacity(a)
	}
});
y.t.Gf = function(a, b, c) {
	var e = new this;
	e.fd(a, b, c);
	return e
};
y.t.Hf = function(a, b, c) {
	a = new this;
	a.gd(a, b, c);
	return a
};
y.t.If = function(a, b, c) {
	var e = new this;
	e.hd(a, b, c);
	return e
};
y.t.Mb = function(a, b, c) {
	var e = new this;
	e.initWithSpriteFrameName(a, b, c);
	return e
};
y.t.Kf = function(a, b, c, e) {
	var g = new this;
	g.kd(a, b, c, e);
	return g
};
y.t.Jf = function(a, b, c, e, g) {
	var k = new this;
	k.jd(a, b, c, e, g);
	return k
};
y.t.Ff = function(a, b, c, e, g) {
	var k = new this;
	k.ed(a, b, c, e, g);
	return k
};
y.ih = "bs-message-app-enter-foreground";
y.hh = "bs-message-app-enter-background";
y.nh = "bs-message-social-user-info-updated";
y.mh = "bs-message-register-remote-notification";
y.oh = "bs-message-social-wechat-code";
y.kh = "bs-message-pay-restore-finish";
y.lh = "bs-message-pay-success";
y.jh = "bs-message-pay-fail";
y.D = cc.Class.extend({
	G: {},
	wb: [],
	Fd: function(a, b, c) {
		this.G[a] == f && (this.G[a] = []);
		this.G[a].push({
			target: b,
			Kb: c
		})
	},
	fe: function(a, b, c) {
		var e = this.G[a];
		e != f && (this.G[a] = _.filter(e, function(a) {
			return a.target != b || a.Kb != c
		}))
	},
	de: function(a) {
		var b = this.G;
		_.each(b, function(c, e) {
			_.isEmpty(c) || (b[e] = _.filter(c, function(b) {
				return b.target != a
			}))
		})
	},
	hb: function(a, b) {
		this.wb.push([a, b])
	},
	Sf: function() {
		_.each(this.wb, function(a) {
			this.postMessage(a[0], a[1])
		}.bind(this))
	},
	postMessage: function(a, b) {
		var c = this.G[a];
		if (c != f) for (var e = 0; e < _.size(c); e++) {
			var g = c[e];
			g.Kb.call(g.target, b, a)
		}
	}
});
y.Za = f;
y.D.B = function() {
	y.Za == f && (y.Za = new y.D);
	return y.Za
};
y.Xb = function(a, b, c) {
	y.D.B().Fd(a, b, c)
};
y.ge = function(a, b, c) {
	y.D.B().fe(a, b, c)
};
y.ee = function(a) {
	y.D.B().de(a)
};
y.postMessage = function(a, b) {
	y.D.B().postMessage(a, b)
};
y.hb = function(a, b) {
	y.D.B().hb(a, b)
};
y.ke = y.Xb;
y.ef = y.ge;
y.Re = y.postMessage;
y.Qe = y.hb;
y.o = y.o || {};
y.o.Gh = 0;
y.o.Hh = 1;
y.o.Eh = 2;
y.o.Fh = 3;
y.o.Oh = 0;
y.o.Ph = 1;
y.o.Mh = 2;
y.o.Nh = 3;
y.Layer = cc.Layer.extend({
	Qa: f,
	init: function() {
		this._super();
		this.Qa = []
	},
	Zj: function(a) {
		this.Qa.push(a);
		y.Ca.d().gc(a)
	},
	onExit: function() {
		this._super();
		y.ee(this);
		_.each(this.Qa, function(a) {
			y.Ca.d().fc(a)
		})
	},
	Pi: function() {
		var a = this.getContentSize(),
			a = [cc.p(0, 0), cc.p(a.width, 0), cc.p(a.width, a.height), cc.p(0, a.height)],
			b = cc.jc.create();
		this.addChild(b, -1);
		b.Rc(a, new cc.hc(0, 0, 1, 0.5), 1, new cc.hc(1, 0, 1, 1))
	}
});
var A = {
	scene: function(a) {
		var b = new cc.Scene;
		a = a instanceof cc.Layer ? a : new a;
		b.addChild(a);
		return b
	},
	Tc: function(a, b) {
		b && a.setContentSize(b);
		var c = cc.winSize;
		a.width / a.height > c.width / c.height ? (y.Kd(a, c.height), a.x = (c.width - a.width * a.scale) / 2) : (y.Ld(a, c.width), a.y = (c.height - a.height * a.scale) / 2)
	},
	Cd: function(a, b) {
		_.isArray(a) && (b = a[1], a = a[0]);
		return Math.random() * (b - a) + a
	},
	Ad: function(a, b) {
		return Math.floor(Math.random() * (b - a + 1)) + a
	},
	Bd: function(a) {
		return Math.random() < a
	},
	vi: function(a, b, c) {
		var e = 0,
			g = 0;
		_.each(a, function(a) {
			if (void 0 != a[b] && (!_.isFunction(c) || c(a))) e += a[b]
		});
		var e = 1E4 * e,
			k = this.Cd(0, e),
			n;
		for (n in a) {
			var s = a[n];
			if (!_.isFunction(c) || c(s)) {
				var q = g + 1E4 * s[b];
				if (k > g && k <= q) return s;
				g = q
			}
		}
		return f
	},
	J: function(a, b, c) {
		if (window._hmt) {
			var e = ["_trackEvent", z.game, a];
			b || (b = z.game + "-" + a);
			b && e.push(b);
			c && e.push(c);
			_hmt.push(e)
		}
	},
	zi: function(a) {
		var b = a.Wf();
		b && (b.Wd && _.each(b.Wd, function(a) {
			a && z.lb.zf(a) && (a.$g ? z.lb.Bi(a) : z.lb.Ai(a))
		}), z.lb.yi(b));
		a.removeFromParent()
	},
	Vd: function() {
		
	}
};
var z = z || {};
z.Fc = "";
z.domain = "game.vbaitong.com";
z.url = function() {
	return "" ;
};
z.sd = "http://game.vbaitong.com";
z = z || {};
z.game = "caiquan.htm";
z.za = {
	Pc: r("猜拳游戏"),
	title: function() {
		return "我在《史上最坑爹猜拳》中得了" + z.c.ua + "分，获得【" + z.c.bd(z.c.ua) + "】称号，you can you up, no can no BB"
	}
};
z.c = {
	Qc: 533,
	font: "Helvetica",
	Gd: ["texture.png", "texture.plist", "cy_error.mp3", "cy_correct.mp3", "cy_bg.jpg"],
	dd: 15,
	ak: 10,
	bd: function(a) {
		a = a || z.c.ua || 0;
		return 20 <= a ? "江湖传说" : 17 <= a && 20 > a ? "武林盟主" : 14 <= a && 17 > a ? "宗师" : 11 <= a && 14 > a ? "掌门" : 8 <= a && 11 > a ? "大侠" : 5 <= a && 8 > a ? "少侠" : 1 <= a && 5 > a ? "新秀" : "废柴"
	},
	ua: 0
};
cc.game.onStart = function() {
	cc.view.adjustViewPort(d);
	var a = cc.winSize,
		b = a.width,
		a = a.height;
	cc.view.enableAutoFullScreen(h);
	cc.view.setDesignResolutionSize(320, 320 * (a / b), cc.ResolutionPolicy.FIXED_WIDTH);
	cc.view.resizeWithBrowserSize(d);
	cc.LoaderScene.preload(z.c.Gd, function() {
		z.init();
		cc.director.runScene(A.scene(z.c.qc))
	}, this)
};
cc.game.run();
z.c.lc = y.Layer.extend({
	ea: 0,
	Zb: f,
	be: f,
	dc: 30,
	ec: f,
	options: f,
	Pb: h,
	ctor: function() {
		this._super();
		this.init();
		this.options = [];
		for (var a = cc.winSize.width, b = 0; 3 > b; ++b) {
			var c = y.t.Mb("cy_0_0.png", this.td, this);
			c.attr({
				x: a / 2 + 90 * (b - 1),
				y: 0.4 * (c.height / 2)+50,
				scale: 0.3
			});
			var e = new cc.Sprite("#cy_option_bg.png");
			e.attr({
				x: c.x,
				y: c.y
			});
			this.addChild(e);
			this.addChild(c);
			this.options.push(c)
		}
		c = this.Wb = new cc.Sprite("#cy_0_0.png");
		c.attr({
			anchorY: 0,
			x: a / 2,
			y: y.da(this.options[0]) + hr(20) + 8
		});
		this.addChild(c);
		b = this.be = cc.LabelTTF.create("黑色：选赢Ta的手势\n白色：选输Ta的手势", z.c.font, 18);
		b.attr({
			x: a / 2,
			y: y.da(c) + hr(45)-20,
			color: cc.color(0, 0, 0)
		});
		this.addChild(b);
		c = new cc.Sprite("#cy_timer.png");
		c.attr({
			x: a / 2 - 80,
			y: y.da(b) + hr(50),
			scale: 0.7
		});
		this.addChild(c);
		b = this.ec = cc.LabelTTF.create("30", z.c.font, 24);
		b.attr({
			x: c.x + 40,
			y: c.y,
			color: cc.color(0, 0, 0)
		});
		this.addChild(b);
		c = cc.LabelTTF.create("得分:", z.c.font, 18);
		c.attr({
			x: a / 2 + 40,
			y: b.y,
			color: cc.color(0, 0, 0)
		});
		this.addChild(c);
		c = this.Zb = cc.LabelTTF.create("0", z.c.font, 24);
		c.attr({
			x: a / 2 + 80,
			y: b.y,
			color: cc.color(0, 0, 0)
		});
		
		this.addChild(c);
		
	
		
		this.width = a;
		this.height = y.da(c);
		this.Ub();
		this.schedule(this.ud.bind(this), 1, cc.REPEAT_FOREVER, 1)
	},
	
	adv:function() {
		console.dir("adv");
	},
	
	ud: function() {
		if (0 < this.dc) {
			var a = --this.dc,
				b = this.ec;
			5 >= a && b.setColor(cc.color(255, 0, 0));
			b.runAction(cc.sequence(cc.scaleTo(0.15, 1.4), cc.callFunc(b.setString.bind(b, a + "")), cc.scaleTo(0.15, 1)));
			0 == a && (this.unscheduleAllCallbacks(), this.ab())
		}
	},
	td: function(a) {
		this.Pb || (a.Xa == this.Xa ? (this.ea++, cc.k.S("cy_correct.mp3"), a = new cc.Sprite("#cy_right.png")) : (this.ea = Math.max(this.ea - 1, 0), cc.k.S("cy_error.mp3"), a = new cc.Sprite("#cy_wrong.png")), this.Zb.setString(this.ea + ""), a.attr({
			x: cc.winSize.width / 2,
			y: y.R(this.Wb) + 35
		}), a.runAction(cc.sequence(cc.delayTime(0.3), cc.callFunc(this.Ub.bind(this)), cc.removeSelf())), this.addChild(a))
	},
	xb: function(a, b) {
		var c = _.map([(a + 1) % 3, (a + 2) % 3, a], function(a) {
			return "cy_" + a + "_" + (b ? 0 : 1) + ".png"
		});
		return y.Mc(c)
	},
	Ub: function() {
		var a = A.Ad(0, 2),
			b = A.Bd(0.5);
		this.Xa = b ? (a + 2) % 3 : (a + 1) % 3;
		this.Wb.runAction(this.xb(a, b));
		_.each(_.shuffle([0, 1, 2]), function(a, b) {
			this.options[b].runAction(this.xb(a, d));
			this.options[b].Xa = a
		}, this)
	},
	ab: function() {
		this.Pb = d;
		this.unscheduleAllCallbacks();
		this.scheduleOnce(function() {
			y.postMessage("game-over", this.ea)
		}, 0.6)
	}
});
z.init = function() {
	y.init();
	A.Vd();
	cc.spriteFrameCache.addSpriteFrames("texture.plist")
};
z.c.ha = y.t.extend({
	ctor: function(a, b, c, e) {
		this._super();
		this.initWithSpriteFrameName(b + ".png", c, e);
		this.Sd(d);
		a && (a = cc.LabelTTF.create(a, "黑体", 20), this.addChild(a), y.C(a, this, 0.5, 0.56))
	}
});
z.c.oc = cc.LayerColor.extend({
	ae: f,
	ctor: function() {
		this._super();
		this.init(cc.color(0, 0, 0, 200));
		this.setContentSize(cc.winSize);
		y.Yb(this, d);
		var a = this.ae = new cc.Sprite("#cy_sharetip.png");
		a.setAnchorPoint(1, 1);
		a.setPosition(cc.winSize.width, cc.winSize.height);
		this.addChild(a)
	},
	onTouchBegan: function() {
		this.scheduleOnce(this.removeFromParent.bind(this), 0);
		return d
	}
});
z.c.qc = cc.Layer.extend({
	Xh: f,
	$a: f,
	Xd: f,
	first: d,
	Ob: f,
	ctor: function() {
		this._super();
		this.init();
		var a = cc.winSize,
			b = a.height / z.c.Qc,
			c = window.hr = function(a) {
				return b * a
			},
			e = new cc.Sprite("cy_bg.jpg");
		e.setAnchorPoint(0, 0);
		A.Tc(e, cc.size(320, 480));
		this.addChild(e);
		e = cc.LabelTTF.create("火爆朋友圈", "Arial", 16);
		e.setHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		e.setColor(cc.color(0, 0, 0));
		y.C(e, this, 0.5, 1);
		e.anchorY = 1;
		this.addChild(e);
		var g = this.title = new cc.Sprite("#cy_title.png");
		g.x = a.width / 2;
		g.y = a.height - c(60) + z.c.dd;
		this.addChild(g);
		e = this.Ob = cc.Node.create();
		this.addChild(e);
		e.x = a.width / 2;
		e.y = y.R(g) - c(20);
		g = new cc.Sprite("#cy_example.png");
		g.anchorY = 1;
		e.addChild(g);
		a = cc.LabelTTF.create("答对加一分，答错减一分\n30秒内答对尽可能多的题目", z.c.font, 12);
		a.setColor(cc.color(0, 0, 0));
		a.setHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		a.y = y.R(g) - c(20);
		e.addChild(a);
		
		var g = new z.c.ha("开始游戏", "cy_btn_red", this.play, this),
			k = new z.c.ha("更多游戏", "cy_btn_green", this.Tb, this);
			//m = new z.c.ha("关注我们", "cy_btn_green", this.about, this);
			
		g.scale = 1.3;
		g.y = y.R(a) - c(35);
		
		k.x = a.width /2 - c(70);
		k.y = y.R(g) - c(40);
		
		//m.x = a.width /2 + c(10);
		//m.y = y.R(g) - c(40);
		
		e.addChild(g);
		e.addChild(k)
		//e.addChild(m);
	},
	onEnter: function() {
		this._super();
		y.Xb("game-over", this, this.ab)
	},
	play: function() {
		this.ib && (this.ib.removeFromParent(), delete this.ib);
		this.Ob.setVisible(h);
		this.$a && this.$a.removeFromParent();
		var a = this.$a = new z.c.lc;
		this.addChild(a);
		var b = y.R(this.title) - y.da(a);
		a.y = b / 2;
		this.first ? A.J("play") : A.J("replay");
		this.first = h
	},
	Tb: function() {
		A.J("more");
		clickMore();
	},
	
	about: function() {
		
	},
	
	za: function() {
		A.J("share");
		var a = this.Xd = new z.c.oc;
		this.addChild(a)
	},
	ab: function(a) {
		z.c.ua = a;
		A.J("end", "score", a);
		a = _.sprintf("你竟然得了%d分，还是蛮拼的了！分享到朋友圈可以【查看称号】，还能PK小伙伴！", a);
		
		dp_submitScore(z.c.ua,z.za.title());
		a = new z.c.qb(a, "再玩一次", function() {
			this.play();
		}.bind(this), "炫耀一下", function() {
			//this.cc();
			//this.za()
			dp_share();
			this.play();
			
		}.bind(this), "更多游戏", this.Tb.bind(this));
		this.addChild(a);
		y.Lb(a)
	},
	cc: function() {
		var a = this.ib = new z.c.qb("", "再玩一次", this.play.bind(this), "更多游戏", this.Tb.bind(this), "关注我们", this.about.bind(this));
		this.addChild(a);
		y.Lb(a)
	}
});
z.c.qb = cc.Sprite.extend({
	ctor: function(a, b, c, e, g, f, h) {
		function k(a) {
			return function() {
				s.removeFromParent();
				a()
			}
		}
		this._super();
		this.initWithSpriteFrameName("cy_dlg_bg.png");
		if (a) {
			var n = cc.LabelTTF.create(a, "黑体", 18);
			n.setColor(cc.color(0, 0, 0));
			n.setHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
			n.setDimensions(cc.size(this.width - 40, 0));
			y.C(n, this, 0.5, 0.65);
			this.addChild(n)
		}
		var s = this;
		b = new z.c.ha(b, "cy_btn_red", k(c), this);
		this.addChild(b);
		e = new z.c.ha(e, "cy_btn_green", k(g), this);
		this.addChild(e);
		f = new z.c.ha(f, "cy_btn_green", k(h), this);
		this.addChild(f);
		
		a ? (y.C(b, this, 0.28, 0.3), y.C(e, this, 0.72, 0.3), y.C(f, this, 0.5, 0.1)) : (b.scale = e.scale = f.scale = 1.2, y.C(b, this, 0.5, 0.8), y.C(e, this, 0.5, 0.5), y.C(f, this, 0.5, 0.2))
	}
});
 